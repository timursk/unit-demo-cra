# ШРИ Инфраструктура

## 1. Линтер для соответствия сообщений о коммитах формату conventional commits. Локально установлен Commitlint + husky
```
npm ci
внесите изменения
git add .
git commit -m 'feat: some text' 
после попытки коммита происходит прекомит хук и название проверяется
```

## 2. Автоматический запуск проверок в CI для пулл реквестов
1). При PR в master запускается action с тестами (файл github-actions-handlePr.yml). 
2). Также сохраняется playwright-report в artifacts. 
3). Пока тесты не прошли (или упали с ошибкой) PR блокируется.

## 3. Релизный процесс
1). Релизный процесс запускается при появлении нового тега. Например:
```
git tag v20
git push origin v20
```
2). Триггерится action (файл github-action-releaseTag.yml)
3). Формируется changelog (отображается в issues, см. ниже)
4). Создается issue с пометкой RELEASE. В нём содержится дата, автор, номер версии и changelog.
5). Далее запускаются unit и e2e тесты
6). Если проверки прошли, проект билдится, заливается на gh-pages
7). Запись о билде появляется в том же issue, затем автоматически закрывается (см. вкладка issues -> closed)

some changes for check
